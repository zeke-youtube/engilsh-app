<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ELA Quiz</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: auto; padding: 2em; }
    .question-box { margin-bottom: 2em; }
    .score-box { font-weight: bold; margin-top: 2em; }
    button { margin-top: 1em; }
  </style>
</head>
<body>
  <h1>ELA Quiz</h1>
  <div id="quiz"></div>
  <div class="score-box" id="scoreBox"></div>

  <script>
    const questions = [
      {
        question: "Which word is a synonym for 'happy'?",
        answers: ["Joyful", "Angry", "Tired", "Hungry"],
        correct: 0,
        explanation: "‘Joyful’ means showing happiness — it’s a synonym for ‘happy.’"
      },
      {
        question: "What is the past tense of 'run'?",
        answers: ["Running", "Ran", "Runned", "Runs"],
        correct: 1,
        explanation: "‘Ran’ is the correct past tense form of ‘run.’"
      },
      {
        question: "Which sentence uses proper punctuation?",
        answers: [
          "Lets go to the park",
          "Let's go to the park!",
          "Lets go to the park!",
          "Let’s go, to the park"
        ],
        correct: 1,
        explanation: "‘Let's go to the park!’ uses the correct contraction and punctuation."
      }
    ];

    let current = 0;
    let score = 0;

    function shuffle(array) {
      return array
        .map(val => ({val, sort: Math.random()}))
        .sort((a, b) => a.sort - b.sort)
        .map(obj => obj.val);
    }

    function showQuestion() {
      const q = questions[current];
      const quiz = document.getElementById("quiz");
      quiz.innerHTML = "";

      const container = document.createElement("div");
      container.className = "question-box";

      const questionEl = document.createElement("p");
      questionEl.textContent = q.question;
      container.appendChild(questionEl);

      const shuffledAnswers = shuffle(q.answers.map((a, i) => ({text: a, index: i})));

      shuffledAnswers.forEach(ans => {
        const btn = document.createElement("button");
        btn.textContent = ans.text;
        btn.onclick = () => {
          if (ans.index === q.correct) score++;
          container.innerHTML += `<p><strong>${ans.index === q.correct ? "Correct!" : "Incorrect."}</strong> ${q.explanation}</p>`;
          current++;
          if (current < questions.length) {
            setTimeout(showQuestion, 1500);
          } else {
            document.getElementById("scoreBox").textContent = `You scored ${score} out of ${questions.length}.`;
          }
        };
        container.appendChild(btn);
      });

      quiz.appendChild(container);
    }

    showQuestion();
  </script>
</body>
</html>
